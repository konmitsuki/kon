### ソースコードの概要と目的
####　真球形状
#### ビデオデータの読み込み:
    目的: 特定の動画ファイルを読み込む。
    機能: cv2.VideoCaptureを使用して動画ファイルを読み込み、動画の基本情報（フレーム数、FPS、動画の長さなど）を取得。
#### 動画ごとのディレクトリ作成:
    目的: 結果を格納するための個別ディレクトリの作成。
    機能: 動画ファイル名に基づいてディレクトリを作成し、異なる種類の出力データを分類するためのサブフォルダを生成。
#### フレームの読み込みと処理:
    目的: 各フレームを個別に処理して、気泡の特性を分析。
    機能: 各フレームをグレースケールに変換し、2値化処理を行い、輪郭を検出して分析。
    
    動画の読み込み:
    cv2.VideoCaptureを使用して指定されたファイルパスから動画を読み込みます。
    動画ファイルから幅、高さ、総フレーム数、フレームレート（FPS）、動画の長さなどの基本情報を取得します。
    フレームの読み込み:

    cap.read()メソッドを使用して、動画からフレームを一つずつ読み込みます。
    ここでは、frame_count変数を使って読み込んだフレームの数をカウントし、指定されたフレーム数（この場合は60枚）まで処理を続けます。
    画像の保存と読み込み:

    読み込んだ各フレームを指定されたパスに画像ファイルとして保存します。ファイル名はフレーム番号に基づいて命名されます。
    保存した画像をcv2.imreadを使ってカラー画像として読み込みます。
    画像の前処理:
        グレースケール変換:

        読み込まれたカラー画像をcv2.cvtColor関数を使ってグレースケール画像に変換します。
        この変換により、画像から色情報が削除され、明暗のみに基づく画像になります。これは、後の2値化処理を容易にし、輪郭検出の精度を高めるために重要です。
        平滑化（ぼかし処理）:

        グレースケール画像にcv2.bilateralFilterを適用して平滑化（ぼかし）を行います。
        cv2.bilateralFilterはエッジを保持しながら平滑化を行うために使用され、ここではパラメータとして近傍領域の直径、色空間のシグマ値、座標空間のシグマ値が指定されています。
        平滑化により、画像のノイズや小さな不要なディテールが削減され、輪郭検出の精度が向上します。
        2値化処理:

        平滑化されたグレースケール画像をcv2.threshold関数を使用して2値化します。
        2値化処理では、画像を白と黒の2つの色のみに分けます。ここではOtsuの方法を用いて自動的に適切な閾値が決定されます。
        Otsuの方法は、画像のヒストグラム情報を基に最適な閾値を計算し、その閾値を用いて画像を2値化します。これにより、輪郭検出に適した画像が得られます。
    輪郭の検出:

    2値化された画像からcv2.findContoursを使用して輪郭を検出します。
    検出された輪郭をコピーした画像に描画し、この画像を保存します。

#### 輪郭のフィルタリングと特性分析:
    目的: 条件に合致する輪郭のみを選択し、それらの面積、周囲長、重心座標を計算。
    機能: 面積と周囲長の条件に基づいて輪郭をフィルタリングし、重心座標と輪郭の特性を分析。
    輪郭の検出:

    cv2.findContours関数を使い、2値化された画像から輪郭を検出します。この関数は、画像内のすべての輪郭を見つけ、それらのリストを返します。
    検出された輪郭は、画像上で白い領域（気泡）の外周を追跡したものです。
    輪郭のフィルタリング:

    すべての輪郭が対象となるわけではありません。特定の基準（この場合は面積）に基づいて、関連性のある輪郭のみを選択します。
    ここでは、min_contour_areaとmax_contour_areaの条件を設定し、これらの範囲内にある輪郭のみを選択します。これにより、小さすぎたり大きすぎたりする不適切な輪郭を除外します。
    輪郭特性の分析:

    選択された輪郭に対して、面積、周囲長、重心の座標などの特性を計算します。
    面積はcv2.contourArea関数で、周囲長はcv2.arcLength関数で計算されます。
    重心の座標は輪郭のモーメント（cv2.moments関数を使用）から計算されます。
    輪郭の半径の計算:

    各輪郭点から重心までの距離を計算し、その中で最大のものを気泡の半径として採用します。
    輪郭上の各点と重心との距離を計算し、最大のものを探します。これにより、気泡の大きさを推定します。
    画像への結果の描画:

    計算された特性（重心、輪郭）を元画像に描画し、結果を視覚化します。
    重心には小さな円、輪郭には線が描画されます。
#### 画像処理結果の保存:
    目的: 分析結果を画像として保存し、可視化。
    機能: 重心、面積などの情報を含む輪郭を描画した画像を生成し、各フレームの結果を保存。
#### 速度情報の計算と保存:
    目的: 気泡の移動速度を計算し、保存。
    機能: 連続するフレーム間の重心座標の変化から速度を計算し、ピクセル単位とミリメートル単位で保存。
#### グラフ生成と結果の可視化:
    目的: 気泡の動きと特性をグラフとして可視化。
    機能: 重心座標や速度などのデータをグラフ化し、画像として保存し、表示。
#### データテーブルの生成と保存:
    目的: 気泡の各特性データを表形式で要約し、保存。
    機能: 重心のy座標、速度、気泡半径などのデータを集計し、表形式で画像として保存。

###　カスプ形状との違い
    輪郭のフィルタリング:
    条件に基づくフィルタリング:

    真球形状の場合、輪郭の中から特定の条件（例えば面積の範囲）を満たすものを選択します。
    カスプ形状の場合、輪郭の選択基準が異なり、より厳密な条件が設定されている可能性があります。
    重心の座標との関連性:

    両形状で共通して、輪郭の重心座標を計算していますが、カスプ形状では重心座標をより詳細に分析している可能性があります。特に、輪郭上の点と重心の関係性に注目しています。
    体積計算:
    体積計算のアプローチ:

    真球形状では、輪郭から直接気泡の体積を推定するのが一般的です。
    カスプ形状では、輪郭データを用いてより複雑な形状の体積を計算する必要があります。これは、カスプ形状が不規則なため、直接的な方法ではなく、異なるアプローチ（例: 各点から重心までの距離を利用して体積を積分する）を取る必要があるためです。
    計算手法の差異:

    カスプ形状の場合、重心から各輪郭点までの距離を利用して、気泡の体積をより正確に推定します。これには、各輪郭点での局所的な円柱の体積を算出し、それらを合算するという方法が含まれます。